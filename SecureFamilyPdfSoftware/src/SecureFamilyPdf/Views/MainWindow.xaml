<Window x:Class="SecureFamilyPdf.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SecureFamilyPdf.Views"
        xmlns:controls="clr-namespace:SecureFamilyPdf.Controls"
        mc:Ignorable="d"
        Title="Secure Family PDF" 
        Height="800" 
        Width="1200"
        MinHeight="600"
        MinWidth="800"
        WindowStartupLocation="CenterScreen"
        Icon="/Resources/app.ico">
    
    <Window.Resources>
        <!-- Converters -->
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <local:ZoomLevelConverter x:Key="ZoomLevelConverter"/>
    </Window.Resources>
    
    <DockPanel>
        <!-- Menu Bar (Adobe-style, no top toolbar) -->
        <Menu DockPanel.Dock="Top" x:Name="MainMenu">
            <MenuItem Header="_File">
                <MenuItem Header="_Open..." 
                          Command="{Binding OpenFileCommand}"
                          InputGestureText="Ctrl+O"/>
                <MenuItem Header="Open _Recent">
                    <MenuItem Header="Clear Recent Files" 
                              Command="{Binding ClearRecentFilesCommand}"/>
                </MenuItem>
                <Separator/>
                <MenuItem Header="_Save As..." 
                          Command="{Binding SaveAsCommand}"
                          InputGestureText="Ctrl+S"/>
                <MenuItem Header="Save _Copy..." 
                          Command="{Binding SaveCopyCommand}"/>
                <Separator/>
                <MenuItem Header="_Print..." 
                          Command="{Binding PrintCommand}"
                          InputGestureText="Ctrl+P"/>
                <Separator/>
                <MenuItem Header="E_xit" 
                          Command="{Binding ExitCommand}"
                          InputGestureText="Alt+F4"/>
            </MenuItem>
            
            <MenuItem Header="_Edit">
                <MenuItem Header="_Undo" 
                          Command="{Binding UndoCommand}"
                          InputGestureText="Ctrl+Z"/>
                <MenuItem Header="_Redo" 
                          Command="{Binding RedoCommand}"
                          InputGestureText="Ctrl+Y"/>
                <Separator/>
                <MenuItem Header="_Copy" 
                          Command="{Binding CopyCommand}"
                          InputGestureText="Ctrl+C"/>
                <MenuItem Header="Select _All" 
                          Command="{Binding SelectAllCommand}"
                          InputGestureText="Ctrl+A"/>
            </MenuItem>
            
            <MenuItem Header="_View">
                <MenuItem Header="_Zoom In" 
                          Command="{Binding ZoomInCommand}"
                          InputGestureText="Ctrl++"/>
                <MenuItem Header="Zoom _Out" 
                          Command="{Binding ZoomOutCommand}"
                          InputGestureText="Ctrl+-"/>
                <MenuItem Header="_Actual Size" 
                          Command="{Binding ActualSizeCommand}"
                          InputGestureText="Ctrl+0"/>
                <MenuItem Header="_Fit Page" 
                          Command="{Binding FitPageCommand}"
                          InputGestureText="Ctrl+1"/>
                <MenuItem Header="Fit _Width" 
                          Command="{Binding FitWidthCommand}"
                          InputGestureText="Ctrl+2"/>
                <Separator/>
                <MenuItem Header="_Thumbnails" 
                          IsCheckable="True"
                          IsChecked="{Binding ShowThumbnails}"/>
                <MenuItem Header="_Status Bar" 
                          IsCheckable="True"
                          IsChecked="{Binding ShowStatusBar}"/>
            </MenuItem>
            
            <MenuItem Header="_Tools">
                <MenuItem Header="_Highlight Text" 
                          Command="{Binding HighlightTextCommand}"/>
                <MenuItem Header="_Add Sticky Note" 
                          Command="{Binding AddStickyNoteCommand}"/>
                <MenuItem Header="_Search" 
                          Command="{Binding SearchCommand}"
                          InputGestureText="Ctrl+F"/>
                <Separator/>
                <MenuItem Header="_Redact Text..." 
                          Command="{Binding RedactTextCommand}"/>
                <MenuItem Header="_Password Protect..." 
                          Command="{Binding PasswordProtectCommand}"/>
                <MenuItem Header="_Remove Password..." 
                          Command="{Binding RemovePasswordCommand}"/>
            </MenuItem>
            
            <MenuItem Header="_Help">
                <MenuItem Header="_About Secure Family PDF" 
                          Command="{Binding AboutCommand}"/>
                <MenuItem Header="_User Guide" 
                          Command="{Binding UserGuideCommand}"/>
            </MenuItem>
        </Menu>
        
        <!-- Main Content Area -->
        <Grid>
            <Grid.ColumnDefinitions>
                <!-- Thumbnail Panel (collapsible) -->
                <ColumnDefinition Width="Auto" MinWidth="150" MaxWidth="300"/>
                <!-- PDF Viewer -->
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Thumbnail Panel -->
            <Border Grid.Column="0" 
                    Background="{StaticResource ThumbnailPanelBackgroundBrush}"
                    BorderBrush="{StaticResource ThumbnailPanelBorderBrush}"
                    BorderThickness="0,0,1,0"
                    Visibility="{Binding ShowThumbnails, Converter={StaticResource BooleanToVisibilityConverter}}">
                <controls:ThumbnailPanelControl x:Name="ThumbnailPanel"/>
            </Border>
            
            <!-- PDF Viewer Area -->
            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <!-- PDF Viewer -->
                    <RowDefinition Height="*"/>
                    <!-- Status Bar -->
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- PDF Viewer -->
                <Border Grid.Row="0" 
                        Background="{StaticResource PdfViewerBackgroundBrush}"
                        BorderBrush="{StaticResource PdfViewerBorderBrush}"
                        BorderThickness="1">
                    <controls:PdfViewerControl x:Name="PdfViewer"/>
                </Border>
                
                <!-- Status Bar -->
                <StatusBar Grid.Row="1" 
                          Visibility="{Binding ShowStatusBar, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <StatusBarItem>
                        <TextBlock Text="{Binding StatusMessage}" 
                                   Style="{StaticResource StatusTextStyle}"/>
                    </StatusBarItem>
                    
                    <Separator/>
                    
                    <StatusBarItem>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Page: " Style="{StaticResource StatusTextStyle}"/>
                            <TextBlock Text="{Binding CurrentPage}" Style="{StaticResource StatusTextStyle}"/>
                            <TextBlock Text=" of " Style="{StaticResource StatusTextStyle}"/>
                            <TextBlock Text="{Binding TotalPages}" Style="{StaticResource StatusTextStyle}"/>
                        </StackPanel>
                    </StatusBarItem>
                    
                    <Separator/>
                    
                    <StatusBarItem>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Zoom: " Style="{StaticResource StatusTextStyle}"/>
                            <TextBlock Text="{Binding ZoomLevel, Converter={StaticResource ZoomLevelConverter}}" 
                                       Style="{StaticResource StatusTextStyle}"/>
                        </StackPanel>
                    </StatusBarItem>
                    
                    <Separator/>
                    
                    <StatusBarItem>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Document: " Style="{StaticResource StatusTextStyle}"/>
                            <TextBlock Text="{Binding DocumentName}" 
                                       Style="{StaticResource StatusTextStyle}"
                                       MaxWidth="200"
                                       TextTrimming="CharacterEllipsis"/>
                        </StackPanel>
                    </StatusBarItem>
                    
                    <StatusBarItem HorizontalAlignment="Right">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="Secure Mode: " Style="{StaticResource StatusTextStyle}"/>
                            <TextBlock Text="ON" 
                                       Style="{StaticResource StatusTextStyle}"
                                       Foreground="{StaticResource SecuritySuccessBrush}"
                                       FontWeight="Bold"/>
                        </StackPanel>
                    </StatusBarItem>
                </StatusBar>
            </Grid>
        </Grid>
    </DockPanel>
</Window>
